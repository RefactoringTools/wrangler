<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
<title>Module code_inspector_examples</title>
<link rel="stylesheet" type="text/css" href="stylesheet.css" title="EDoc">
</head>
<body bgcolor="white">
<div class="navbar"><a name="#navbar_top"></a><table width="100%" border="0" cellspacing="0" cellpadding="2" summary="navigation bar"><tr><td><a href="overview-summary.html" target="overviewFrame">Overview</a></td><td><a href="http://www.erlang.org/"><img src="erlang.png" align="right" border="0" alt="erlang logo"></a></td></tr></table></div>
<hr>

<h1>Module code_inspector_examples</h1>
<ul class="index"><li><a href="#description">Description</a></li><li><a href="#index">Function Index</a></li><li><a href="#functions">Function Details</a></li></ul>  
Some example code inspection functions using code templates.

<p><b>Version:</b> 0.1</p>
<p><b>Authors:</b> Huiqing Li (<a href="mailto:H.Li@kent.ac.uk"><tt>H.Li@kent.ac.uk</tt></a>).</p>

<h2><a name="description">Description</a></h2><p>  
Some example code inspection functions using code templates.</p>
 
  <p>This module demonstrates how to use code templates and the predefined
  macros, ?COLLECT and ?COLLECT_LOC, to collect information about specific
  code fragments of interest.
  To invoke a user-defined code inspection function from the <code>Inspector</code> menu, select
  <code>Apply Adhoc Code Inspector</code> first, then Wrangler will prompt you to input the  
the name of the module in which the code inspection function is defined, and  
the code inspection function name; if the code inspection function requires  
user-inputs, Wrangler will also prompt you to input the parameter values. After  
that, the code inspection function will be run by Wrangler, and the results are  
shown in the *erl-output* buffer.</p>
 
  <p>In order for a user-defined code inspection function to be invoked by the
  <code>Apply Adhoc Code Inspector</code> command, a number of coding rules should be  
followed by the code inspection function:</p>
 
  <p>-- The code inspection function should have an arity of 1;</p>
 
  <p>-- The code inspection function should have two function clauses: one
  function clause takes atom <code>input_pars</code> as the parameter, and the other
  takes record <code>args</code> as the parameter. If the code inspection function
  does not require any user-inputs before hand,
  the function clause with <code>input_pars</code> as the parameter should return an empty list,
  otherwise it should return the list of prompt strings to be used when
  the Wrangler asks the user for input, and there should be one prompt string
  for each user-input. The <code>args</code> record taken as parameter by the other
  function clause contains information that is passed to the code inspection
  function. To be consistent, the definition of the <code>args</code> record is the same
  as the one used by the <code>gen_refac</code> behaviour, although record fields <code>cursor_pos</code>
  ,<code>highlight_range</code> and 'focus_sel' are generally not use by code inspection
  functions. Here is the definition of record <code>args</code>:</p>
 
   <pre>      -record(args,{current_file_name :: filename(),         %% the file name of the current Erlang buffer.
                    cursor_pos        :: pos(),              %% the current cursor position.
                    highlight_range   :: {pos(), pos()},     %% the start and end location of the highlighted code if there is any.
                    user_inputs       :: [string()],         %% the data inputted by the user.
                    focus_sel         :: any(),              %% the focus of interest selected by the user.
                    search_paths      ::[dir()|filename()],  %% the list of directories or files which specify the scope of the project.
                    tabwidth =8        ::integer()           %% the number of white spaces denoted by a tab key.
                   }).</pre>
 
  <p>-- In the case that the code inspection function returns location range information about
     code fragments of interest, in order for the locations to be mouse-clickable, the
    location range should be of the format: <code>{filename(), {pos(),pos()}}</code>.</p>
 
  Source code for this module:
 <ul>
 <li>
 <a href="file:code_inspector_examples.erl"> code_inspector_examples.erl.</a>.
 </li>
 </ul>
<h2><a name="index">Function Index</a></h2>
<table width="100%" border="1" cellspacing="0" cellpadding="2" summary="function index"><tr><td valign="top"><a href="#append_two_lists-1">append_two_lists/1</a></td><td></td></tr>
<tr><td valign="top"><a href="#calls_to_specific_function-1">calls_to_specific_function/1</a></td><td></td></tr>
<tr><td valign="top"><a href="#non_tail_recursive_function-1">non_tail_recursive_function/1</a></td><td></td></tr>
<tr><td valign="top"><a href="#top_level_if-1">top_level_if/1</a></td><td></td></tr>
<tr><td valign="top"><a href="#unnecessary_match-1">unnecessary_match/1</a></td><td></td></tr>
</table>

<h2><a name="functions">Function Details</a></h2>

<h3 class="function"><a name="append_two_lists-1">append_two_lists/1</a></h3>
<div class="spec">
<p><tt>append_two_lists(Args::#args{}) -&gt; [{<a href="#type-filename">filename()</a>, {<a href="#type-pos">pos()</a>, <a href="#type-pos">pos()</a>}}] | {error, term()}</tt><br></p>
</div>

<h3 class="function"><a name="calls_to_specific_function-1">calls_to_specific_function/1</a></h3>
<div class="spec">
<p><tt>calls_to_specific_function(Args::#args{}) -&gt; [{<a href="#type-filename">filename()</a>, {<a href="#type-pos">pos()</a>, <a href="#type-pos">pos()</a>}}] | {error, term()}</tt><br></p>
</div>

<h3 class="function"><a name="non_tail_recursive_function-1">non_tail_recursive_function/1</a></h3>
<div class="spec">
<p><tt>non_tail_recursive_function(Args::#args{}) -&gt; [{<a href="#type-modulename">modulename()</a>, <a href="#type-functionname">functionname()</a>, arity()}] | {error, term()}</tt><br></p>
</div>

<h3 class="function"><a name="top_level_if-1">top_level_if/1</a></h3>
<div class="spec">
<p><tt>top_level_if(Args::#args{}) -&gt; [{<a href="#type-modulename">modulename()</a>, <a href="#type-functionname">functionname()</a>, arity()}] | {error, term()}</tt><br></p>
</div>

<h3 class="function"><a name="unnecessary_match-1">unnecessary_match/1</a></h3>
<div class="spec">
<p><tt>unnecessary_match(Args::#args{}) -&gt; [{<a href="#type-filename">filename()</a>, {<a href="#type-pos">pos()</a>, <a href="#type-pos">pos()</a>}}] | {error, term()}</tt><br></p>
</div>
<hr>

<div class="navbar"><a name="#navbar_bottom"></a><table width="100%" border="0" cellspacing="0" cellpadding="2" summary="navigation bar"><tr><td><a href="overview-summary.html" target="overviewFrame">Overview</a></td><td><a href="http://www.erlang.org/"><img src="erlang.png" align="right" border="0" alt="erlang logo"></a></td></tr></table></div>
<p><i>Generated by EDoc, May 3 2011, 14:45:48.</i></p>
</body>
</html>
